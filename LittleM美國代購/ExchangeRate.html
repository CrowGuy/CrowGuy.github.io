<!DOCTYPE html>
<html>
<head>
  <media charset="utf-8">
  <title>商品匯率試算表</title>
  <script>
    function loadElement(){
	  var stateTax = 1.09; // 州稅
	  var purchaseFee = 1.1; // 代購費
	  var exchageRate = 33; // 匯率
	  var nationalShip = 240; // 國際運費
	  document.getElementById("stateTax").innerHTML = stateTax;
	  document.getElementById("purchaseFee").innerHTML = purchaseFee;
	  document.getElementById("exchageRate1").innerHTML = exchageRate;
	  document.getElementById("exchageRate2").innerHTML = exchageRate;
	  document.getElementById("nationalShip").innerHTML = nationalShip;
	}
    function caculateFee(){
	  IsEmpty();
	  var stateTax = document.getElementById("stateTax").innerHTML; 
	  var purchaseFee = document.getElementById("purchaseFee").innerHTML;
	  var exchageRate = document.getElementById("exchageRate1").innerHTML;
	  var nationalShip = document.getElementById("nationalShip").innerHTML;
	  
	  var priceCom = document.getElementById("priceCom").value;
	  var usaShip = document.getElementById("usaShip").value;
	  var weightNum = document.getElementById("weightNum").value;
	  var interalShip = document.getElementById("interalList").options[document.getElementById("interalList").selectedIndex].text;
	  var resultFee = 0;
	  resultFee = Number(priceCom * stateTax * purchaseFee * exchageRate) + Number(usaShip * exchageRate) + Number(weightNum * nationalShip)+ Number(interalShip);
	  document.getElementById("resultFee").innerHTML = resultFee;
	}
	function IsEmpty(){
	  var alertStr= "";
	  if(document.getElementById('priceCom').value == ''){
	    alertStr += "商品價格、";
	  }
	  if(document.getElementById('usaShip').value == ''){
	    alertStr += "美國運費、";
	  }
	  if(document.getElementById('weightNum').value == ''){
	    alertStr += "重量LB";
	  }
	  if(!(alertStr == ''))
	  {
	    alert("請輸入"+alertStr+"!!")
	  }
	}
  </script>
</head>
<body onload="loadElement()">
  <table>
    <tr>
	  <td style="width:150px"><h1><strong>商品試算</strong></h1></td>
	  <td style="width:300px"><h3>匯率公告:1 USD : 33 TWD</h3></td>
	</tr>
  </table>
  <table>
    <tr>
	  <td>（商品價格*洲稅*代購費*匯率）</td>
	  <td> + </td>
	  <td>（美國運費*匯率）</td>
	  <td> + </td>
	  <td>（重量LB*國際運費+國內運費）</td>
	  <td><button type="button" onclick="caculateFee()">計算收費</button></td>
	</tr>
  </table>
  <br />
  <form>
	<table>
      <tr>
	    <td><input type="text" id="priceCom" placeholder="美金"></td>
	    <td>x <label id="stateTax"></label> 
		    x <label id="purchaseFee"></label>
			x <label id="exchageRate1"></label> + 		
		</td>
	    <td><input type="text" id="usaShip" placeholder="境內運費"></td>
	    <td>x <label id="exchageRate2"></label> + </td>
	    <td><input type="text" id="weightNum" placeholder="重量"></td>
	    <td>x <label id="nationalShip"></label> + </td>
	    <td>
	      <select id="interalList">
            <option value="60">60</option>
            <option value="80">80</option>
            <option value="120">120</option>
          </select>
        </td>
	    <td>= 收費金額為：<label id="resultFee"></label></td>
	  </tr>
    </table>
  </form>
</body>
</html>