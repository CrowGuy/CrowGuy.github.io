<html>
  <head>
	<title>iRock - The Virtual Pet Rock</title>
	<script type="text/javascript" src="./js/cookie.js"></script>
	<script type="text/javascript">
	  var userName;
	  
	  function resizeRock() {
        document.getElementById("rockImg").style.height = (document.body.clientHeight - 100) * 0.9;
      }
	  
	  function greetUser(){
		if(navigator.cookieEnabled) // 檢查cookie支援特性
		  userName = readCookie("irock_username");
		if(userName)
		  alert("Hello " + userName + ", I missed you.");
		else
			alert("Hello, I am your pet rock.");
	  }
	  
	  function touchRock(){
		if (userName){
		  alert("I like the attention," + userName + ". Thank you.");
		}
		else {
		  userName = prompt("What is your name?", "Enter your name here.");
		  if (userName){
		    alert("It is good to meet you, " + userName + ".");
			if(navigator.cookieEnabled)
			  writeCookie("irock_username", userName, 5*365);
			else
			  alert("Cookies aren't supported/enabled in your browser, which means I won't remember you later. I'm sorry.");
		  }
		}
		document.getElementById("rockImg").src = "./img/rock_happy.png";
		//var timerID = setInterval("alert('Wake up!');", 50000); 間歇性計時器設定
		//clearInterval(timeID); 清除setInterval()所設定的間歇性計時器
		//計時器以毫秒表示時間長度
		setTimeout("document.getElementById('rockImg').src='./img/rock.png';", 5000); 
	  }
	</script>
  </head>
  
  <body onload="resizeRock(); greetUser();" onresize="resizeRock();">
	<div style="margin-top:100px; text-align:center">
	  <img id="rockImg" src="./img/rock.png" alt="iRok" style="cursor:pointer" onclick="touchRock();">
	</div>
  </body>
</html>