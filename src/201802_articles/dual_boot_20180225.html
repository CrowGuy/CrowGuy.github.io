<!doctype html>
<html>
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css" integrity="sha384-Zug+QiDoJOrZ5t4lssLdxGhVrurbmBWopoEl+M6BdEfwnCJZtKxi1KgxUyJq13dy" crossorigin="anonymous">
        
        <title>Randy's Blog</title>
		<style>
		html {
			position: relative;
			height: 100%;
		}
		body {
			background-color: #FCFFEB; 
			margin-bottom: 60px; /* Margin bottom by footer height */
			overflow-x: hidden;
			height: 100%;
			min-height: 100%;
		}
		.header .wraper .col-md-8{
			background-color: #193441;
		}
		.header .menu .col-md-8{
			background-color: #91AAB4;
		}
		.blogName {
			font-family: monospace;
			font-size: 3.5em;
			color: #FCFFF5;
			padding-top: 3%;
		}
		.blogHint {
			font-family: cursive;
			font-style: oblique;
			color: #CBDBD7;
			padding-left: 5%;
			padding-bottom: 1%;
		}
		/* change the link color */
		.navbar-custom .navbar-nav .nav-link {
			font-family: monospace;
			font-size: 1.55em;
			font-weight: bold;
			color: #3E606F;
		}
		/* change the color of active or hovered links */
		.navbar-custom .nav-item.active .nav-link {color: #FCFFF5;}
		.navbar-custom .nav-item:hover .nav-link {color: #CBDBD7;}
		.footer {
			width: 100%;
			height: 50px; /* Set the fixed height of the footer here */
			line-height: 50px; /* Vertically center the text there */
		}
		.footer .row .col-md-8{
			background-color: #100000;
			color: #FFFFFF;
		}
		.content .col-md-8 {background-color: #FFFFFF; height: 100%; font-family:DFKai-sb;}
		.topic {padding-top: 3%;}
		.published_date {color: #969696; padding-right: 4%;}
		.context {font-size: 1.2em; padding-left: 4%; padding-right: 4%;}
		.chpmark {padding-top: 2%; font-weight: bold;}
		.context_img {width: 60%; height: 60%; padding-top: 1%; padding-bottom: 3%;}
		</style>
    </head>
    <body>
		<!-- Header -->
		<header class="header">
			<div class="wraper row justify-content-center">
				<div class="col-md-8 row">
					<div class="col-md">
						<h1 class="blogName">Randy's blog</h1>
					</div>
					<div class="w-100"></div>
					<div class="col-md">
						<h5 class="blogHint">Bring on the hardship, and enjoy it.</h5>
					</div>
				</div>
			</div>
			<div class="menu row justify-content-center">
				<div class="col-md-8">
					<nav class="navbar navbar-expand-lg navbar-custom">
						<div class="collapse navbar-collapse">
							<ul class="navbar-nav mr-auto mt-2 mt-lg-0">
								<li class="nav-item active">
									<a class="nav-link" href="index.html">Blog</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="about.html">About</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="archives.html">Archives</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" target="blank" href="https://github.com/CrowGuy">Github</a>
								</li>
							</ul>
						</div>
					</nav>
				</div>
			</div>
		</header>
		<!-- Contents -->
		<main role="main" class="main">
			<div class="content row justify-content-center">
				<div class="col-md-8 row">
					<div class="col-md">
						<h1 class="topic text-center">UEFI啟動Ubuntu16.04 + Win10雙系統</h1>
						<h4 class="published_date text-right">2018-02-25</h4>
						<div class="context text-justify">
							<p>&emsp;&emsp;為了更深一步的學習Linux，決定在個人的筆電中安裝雙系統。在爬了多個雙系統安裝教學文章，以及多次的安裝嘗試及失敗後，決定如果成功後要把詳細的流程寫成教學文章，避免以後再走冤枉路。在爬文的過程中發現了，以前的電腦都是Legacy啟動，而目前的筆記型電腦則都是UEFI啟動，所以有些比較舊的雙系統教學文某步驟些已經不適用於當前的電腦。
							</p>
							<h5 class="chpmark">環境說明</h5>
							<p>&emsp;Laptop型號：Acer Aspire E14</p>
							<p>&emsp;SSD：Win10家庭版</p>
							<p>&emsp;HDD-450GB：Ubuntu 16.04.3</p>

							<h5 class="chpmark">製作iso開機USB</h5>
							<p class="text-justify">&emsp;&emsp;為了要安裝Ubuntu必須先製作開機USB，這部分由於網路上已經有許多教學文章，這邊就不在多加贅述。</p>

							<h5 class="chpmark">硬碟分區(在windows下)</h5>
							<p>&emsp;&emsp;因為在Linux中並沒有C槽和D槽的概念，在安裝Ubuntu前，我們必須先在Windows下將硬碟分割出一塊未配置的空間，切記不要格式化該空間。</p>
							<ul>
								<li>按下「Windows標誌鍵 + x」後，選擇磁碟管理。</li>
								<li>選取欲切割的硬碟，按右鍵選取壓縮磁區，這邊我個人配置了450G，如下圖1所示。</li>
							</ul>
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/01.jpg" title="圖1. 磁碟管理">
							
							<h5 class="chpmark">關閉Windows預設的快速啟動</h5>
							<p>&emsp;&emsp;在Windows 8後，開始支援電源鈕的快速啟動，為了避免該功能影響到我們安裝/啟用Ubuntu，必須將該功能關閉。</p>
							<ul>
								<li>按下「Windows標誌鍵 + x」後，選擇電源選項，接著點選其他電源設定，如圖2。</li>
								<li>將「開啟快速啟動」選項取消，儲存變更，如圖3。</li>
							</ul>
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/02.jpg" title="圖2. 其他電源設定">
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/03.jpg" title="圖3. 快速啟動取消">

							<h5 class="chpmark">進入BIOS設定</h5>
							<p>&emsp;&emsp;重新開機，根據不一樣廠牌的電腦，在開機畫面有不同的快捷鍵進入BIOS(由於我的電腦是Acer快捷鍵為F2)，因為是第一次進入BIOS，系統會要求你先設定Spuervisor password，緊接著針對USB安裝Ubuntu進行設定。</p>
							<ul>
								<li>設定Spuervisor password，如圖4所示。</li>
								<li>把F12 Boot Menu設為Enabled，如圖5所示。</li>
								<li>關閉Secure Boot，儲存設定，並重新開機，如圖6所示。</li>
								<li>開機過程按下F12，選擇以USB開機，如圖7所示。</li>
							</ul>
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/04.jpg" title="圖4. 設定Spuervisor password">
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/05.jpg" title="圖5. F12 Boot Menu Enabled">
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/06.jpg" title="圖6. Secure Boot Disabled">
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/07.jpg" title="圖7. USB開機">

							<h5 class="chpmark">安裝Ubuntu</h5>
							<p>&emsp;&emsp;安裝的步驟依序如下方圖所示，這邊針對Ubuntu的安裝類型，以及空間配置加以說明。首先在選擇安裝類型時，請選擇「其他類型(Something else)」方便創建自己的分區。緊接著分區設定為整個安裝過程中最關鍵的步驟，底下對不同的分區加以說明。</p>
							<ul>
								<li ><b><i>swap area</i></b>：&emsp;虛擬記憶體的空間，選擇主分區(Primary)和空間起始位置(Beginning of this space)。根據其他教學文的建議，這邊分配的大小最好為實體記憶體大小的2倍，像在這個範例中，我就配置了16G給swap，因為我有8G的記憶體。</li>
								<li><b><i>efi系統分區</i></b>：&emsp;因為要使用UEFI來啟動Ubuntu，所以必須建立efi系統分區來取代傳統的/boot掛載，請選擇邏輯分區(Logical)和空間起始位置(Beginning of this space)，配置的大小不要超過256MB，這邊個人的配置512MB提供大家參考。</li>
								<li><b><i>/ 根目錄</i></b>：&emsp;掛載根目錄，類型為EXT4日誌文件系統(EXT4 journaling file system)，選擇邏輯分區(Logical)和空間起始位置(Beginning of this space)，這邊的空間配置最好不要低於8G，這邊個人的配置16G提供大家參考。</li>
								<li><b><i>/usr</i></b>：&emsp;類型EXT4日誌文件系統(EXT4 journaling file system)，選擇邏輯分區(Logical)和空間起始位置(Beginning of this space)，這個目錄為軟體的安裝位置，這邊個人的配置64G提供大家參考。</li>
								<li><b><i>/home</i></b>：&emsp;類型EXT4日誌文件系統(EXT4 journaling file system)，選擇邏輯分區(Logical)和空間起始位置(Beginning of this space)，這個目錄基本上就用來放置你個人文件和檔案的地方，所以配置給該目錄的空間應該盡可能大一點。</li>
							</ul>
							<p>在分區設定為之後，切記將引導開機的設備改成efi系統分區，因為預設是錯誤的。(以我的這個範例來說，sda5就是引導開機的設備。)完成Ubuntu的安裝之後，記得重新啟動，並卸除USB。</p>
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/08.jpg" title="圖8.">
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/09.jpg" title="圖9.">
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/10.jpg" title="圖10.">
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/11.jpg" title="圖11. 磁區分割">
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/12.jpg" title="圖12. swap分區">
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/13.jpg" title="圖13. EFI系統分區">
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/14.jpg" title="圖14. /根目錄">
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/15.jpg" title="圖15. /usr">
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/16.jpg" title="圖16. /home">
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/17.jpg" title="圖17. 引導開機設備">
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/18.jpg" title="圖18.">
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/19.jpg" title="圖19.">
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/20.jpg" title="圖20.">
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/21.jpg" title="圖21.">
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/22.jpg" title="圖22.">
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/23.jpg" title="圖23.">
							
							<h5 class="chpmark">新增Ubuntu efi檔案</h5>
							<ul>
								<li>進入BIOS，在Security項目中選擇「Select an UEFI file as trusted for executing」。</li>
								<li>選擇HDD0 >>EFI >>ubuntu，新增所有.efi檔案。例如:grubx64.efi 命名為 ubuntugrubx64efi。在本範例中有兩個檔案需要被新增，分別為grubx64.efi、fwupx64.efi。</li>
							</ul>
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/24.jpg" title="圖24. Select an UEFI file as trusted for executing">
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/25.jpg" title="圖25. HDD0">
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/26.jpg" title="圖26. EFI">
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/27.jpg" title="圖27. ubuntu">
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/28.jpg" title="圖28. fwupx64.efi">
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/29.jpg" title="圖29. grubx64.efi">

							<h5 class="chpmark">重新開啟Secure Boot</h5>
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/30.jpg" title="圖30. Secure Boot Enabled">

							<h5 class="chpmark">刪除supervisor password</h5>
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/31.jpg" title="圖31. 刪除supervisor password">

							<h5 class="chpmark">從Boot Manager，選擇開機項目</h5>
							<ul>
								<li>按F12，進入Boot Manager，如圖32所示。</li>
								<li>選擇ubuntugrubx64efi，開啟ubuntu，如圖32所示。</li>
								<li>選擇*ubuntu進行作業系統的啟動，最後便可以到登入畫面，如圖33、34所示。</li>
							</ul>
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/32.jpg" title="圖32.">
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/33.jpg" title="圖33.">
							<img class="mx-auto d-block context_img" src="http://crowguy.github.io/src/images/imgs_dual_boot_20180225/34.jpg" title="圖34.">
						</div>
					</div>
				</div>

			</div>
		</main>
			
		<!-- Footer -->
		<footer class="footer">
			<div class="row justify-content-center">
				<div class="col-md-8">
					<p class="text-center">Copywright © 2018 CrowGuy</p>
				</div>
			</div>
		</footer>

		<!-- Optional JavaScript -->
		<!-- jQuery first, then Popper.js, then Bootstrap JS -->
		<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/js/bootstrap.min.js" integrity="sha384-a5N7Y/aK3qNeh15eJKGWxsqtnX/wWdSZSKp+81YjTmS15nvnvxKHuzaWwXHDli+4" crossorigin="anonymous"></script>
    </body>
</html>
